{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { Platform } from 'react-native';\nimport { registerNativeHandlers } from 'craftmusic-stream-chat-react-native-core';\nimport NetInfo from '@react-native-community/netinfo';\nimport ImagePicker from 'react-native-image-picker';\nimport DocumentPicker from 'react-native-document-picker';\n\nregisterNativeHandlers({\n  NetInfo,\n  pickImage: () =>\n    new Promise((resolve, reject) => {\n      ImagePicker.showImagePicker(null, (response) => {\n        if (response.error) {\n          reject(Error(response.error));\n        }\n        let { uri } = response;\n        if (Platform.OS === 'android') {\n          uri = 'file://' + response.path;\n        }\n\n        resolve({\n          cancelled: response.didCancel,\n          uri,\n        });\n      });\n    }),\n  pickDocument: async () => {\n    try {\n      const res = await DocumentPicker.pick({\n        type: [DocumentPicker.types.allFiles],\n      });\n      let { uri } = res;\n      if (Platform.OS === 'android') {\n        uri = 'file://' + res.path;\n      }\n\n      return {\n        cancelled: false,\n        uri,\n        name: res.name,\n      };\n    } catch (err) {\n      return {\n        cancelled: true,\n      };\n    }\n  },\n});\n\nif (Platform.OS === 'android') {\n  if (typeof Symbol === 'undefined') {\n    require('es6-symbol/implement');\n    if (Array.prototype[Symbol.iterator] === undefined) {\n      Array.prototype[Symbol.iterator] = function() {\n        let i = 0;\n        return {\n          next: () => ({\n            done: i >= this.length,\n            value: this[i++],\n          }),\n        };\n      };\n    }\n  }\n}\n\nexport * from 'craftmusic-stream-chat-react-native-core';\n"],"names":["registerNativeHandlers","NetInfo","pickImage","Promise","resolve","reject","ImagePicker","showImagePicker","response","error","Error","uri","Platform","OS","path","cancelled","didCancel","pickDocument","res","DocumentPicker","pick","type","types","allFiles","name","err","Symbol","require","Array","prototype","iterator","undefined","i","next","done","length","value"],"mappings":";;;;;;;;;;;;AAMAA,0DAAsB,CAAC;EACrBC,OADqB;EAErBC,SAAS,EAAE,MACT,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IAC/BC,WAAW,CAACC,eAAZ,CAA4B,IAA5B,EAAmCC,QAAD,IAAc;UAC1CA,QAAQ,CAACC,KAAb,EAAoB;QAClBJ,MAAM,CAACK,KAAK,CAACF,QAAQ,CAACC,KAAV,CAAN,CAAN;;;UAEE;QAAEE;UAAQH,QAAd;;UACII,oBAAQ,CAACC,EAAT,KAAgB,SAApB,EAA+B;QAC7BF,GAAG,GAAG,YAAYH,QAAQ,CAACM,IAA3B;;;MAGFV,OAAO,CAAC;QACNW,SAAS,EAAEP,QAAQ,CAACQ,SADd;QAENL;OAFK,CAAP;KATF;GADF,CAHmB;EAmBrBM,YAAY,EAAE,YAAY;QACpB;YACIC,GAAG,GAAG,MAAMC,cAAc,CAACC,IAAf,CAAoB;QACpCC,IAAI,EAAE,CAACF,cAAc,CAACG,KAAf,CAAqBC,QAAtB;OADU,CAAlB;UAGI;QAAEZ;UAAQO,GAAd;;UACIN,oBAAQ,CAACC,EAAT,KAAgB,SAApB,EAA+B;QAC7BF,GAAG,GAAG,YAAYO,GAAG,CAACJ,IAAtB;;;aAGK;QACLC,SAAS,EAAE,KADN;QAELJ,GAFK;QAGLa,IAAI,EAAEN,GAAG,CAACM;OAHZ;KATF,CAcE,OAAOC,GAAP,EAAY;aACL;QACLV,SAAS,EAAE;OADb;;;CAnCgB,CAAtB;;AA0CA,IAAIH,oBAAQ,CAACC,EAAT,KAAgB,SAApB,EAA+B;MACzB,OAAOa,MAAP,KAAkB,WAAtB,EAAmC;IACjCC,OAAO,CAAC,sBAAD,CAAP;;QACIC,KAAK,CAACC,SAAN,CAAgBH,MAAM,CAACI,QAAvB,MAAqCC,SAAzC,EAAoD;MAClDH,KAAK,CAACC,SAAN,CAAgBH,MAAM,CAACI,QAAvB,IAAmC,YAAW;YACxCE,CAAC,GAAG,CAAR;eACO;UACLC,IAAI,EAAE,OAAO;YACXC,IAAI,EAAEF,CAAC,IAAI,KAAKG,MADL;YAEXC,KAAK,EAAE,KAAKJ,CAAC,EAAN;WAFH;SADR;OAFF;;;;;;;"}